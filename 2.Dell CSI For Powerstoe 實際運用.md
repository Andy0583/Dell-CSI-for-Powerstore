# Dell CSI For Powerstoe 實際運用
<body><p align="right">== by Andy Hsu ==</p></body>

### 1.建立Storage Class
>```
>vim sc.yaml
>
>apiVersion: storage.k8s.io/v1
>kind: StorageClass
>metadata:
>  name: "sc-powerstore"
>  namespace: "ps"
>provisioner: "csi-powerstore.dellemc.com"
>parameters:
>  arrayID: "PS556db8bad5cd"
>  csi.storage.k8s.io/fstype: "nfs"
>  nasName: "andy-nas"
>  allowRoot: "true"
>reclaimPolicy: Delete
>allowVolumeExpansion: true
>volumeBindingMode: Immediate
>```
```
root@k8s1:~# kubectl create -f sc.yaml
storageclass.storage.k8s.io/sc-powerstore created

root@k8s1:~# kubectl get sc
NAME            PROVISIONER                  RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
sc-powerstore   csi-powerstore.dellemc.com   Delete          Immediate           true                   63s
```

### 2.建立PVC
>```
>vim pvc.yaml
>
>kind: PersistentVolumeClaim
>apiVersion: v1
>metadata:
>  name: pvc-powerstore
>  namespace: ps
>spec:
>  accessModes:
>    - ReadWriteMany
>  volumeMode: Filesystem
>  resources:
>    requests:
>      storage: 300Gi
>  storageClassName: sc-powerstore
>```
```
root@k8s1:~# kubectl create -f pvc.yaml
persistentvolumeclaim/pvc-powerstore created

root@k8s1:~# kubectl get pvc -n ps
NAME             STATUS   VOLUME              CAPACITY   ACCESS MODES   STORAGECLASS    AGE
pvc-powerstore   Bound    csivol-dd2bdaee34   300Gi      RWX            sc-powerstore   29s
```
